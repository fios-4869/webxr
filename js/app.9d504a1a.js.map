{"version":3,"file":"js/app.9d504a1a.js","mappings":"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","sources":["webpack://vr-vue3/./src/App.vue","webpack://vr-vue3/./src/App.vue?7ccd","webpack://vr-vue3/./src/views/HomeView.vue?3ba6","webpack://vr-vue3/./src/views/HomeView.vue","webpack://vr-vue3/./src/router/index.ts","webpack://vr-vue3/./src/store/index.ts","webpack://vr-vue3/./src/main.ts","webpack://vr-vue3/webpack/bootstrap","webpack://vr-vue3/webpack/runtime/chunk loaded","webpack://vr-vue3/webpack/runtime/compat get default export","webpack://vr-vue3/webpack/runtime/define property getters","webpack://vr-vue3/webpack/runtime/global","webpack://vr-vue3/webpack/runtime/hasOwnProperty shorthand","webpack://vr-vue3/webpack/runtime/jsonp chunk loading","webpack://vr-vue3/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<style lang=\"scss\">\n#app {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=9f5dffc8\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=9f5dffc8&lang=scss\"\n\nimport exportComponent from \"D:\\\\Learning\\\\vr-vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { onMounted, onBeforeUnmount, ref } from \"vue\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\nimport { VRButton } from \"three/examples/jsm/webxr/VRButton.js\";\nimport { XRControllerModelFactory } from \"three/examples/jsm/webxr/XRControllerModelFactory.js\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HomeView',\n  setup(__props) {\n\nconst container = ref<any>(null);\n\nlet camera: any, scene: any, renderer: any, raycaster: any;\nlet controls: any;\nconst loader = new GLTFLoader();\n\nlet marker: any, baseReferenceSpace: any;\nlet controller1: any, controller2: any;\nlet controllerGrip1: any, controllerGrip2: any;\nlet INTERSECTION: any;\nconst tempMatrix = new THREE.Matrix4();\n\nlet models: any[] = [];\n\nonMounted(() => {\n\tinit();\n\tanimate();\n});\n\nonBeforeUnmount(() => {\n\tscene.clear();\n\trenderer.setAnimationLoop(null);\n\trenderer.dispose();\n\trenderer.forceContextLoss();\n\trenderer.content = null;\n\tlet gl = renderer.domElement.getContext(\"webgl\");\n\tgl && gl.getExtension(\"WEBGL_lose_context\").loseContext();\n});\n\nfunction init() {\n\tscene = new THREE.Scene();\n\tscene.background = new THREE.Color(0x505050);\n\n\tconst skybox = new THREE.CubeTextureLoader().setPath(\"static/skybox/cloudy/\").load([\"right.jpg\", \"left.jpg\", \"top.jpg\", \"bottom.jpg\", \"front.jpg\", \"back.jpg\"]);\n\tskybox.encoding = THREE.sRGBEncoding;\n\tscene.background = skybox;\n\n\tconst texture = new THREE.TextureLoader().load(\"static/terrain/grass.jpg\");\n\ttexture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n\ttexture.repeat.set(20, 20);\n\ttexture.anisotropy = 16;\n\ttexture.encoding = THREE.sRGBEncoding;\n\tconst ground = new THREE.Mesh(new THREE.CircleGeometry(12, 200), new THREE.MeshPhongMaterial({ map: texture }));\n\tground.rotation.x = -Math.PI / 2;\n\tground.receiveShadow = true;\n\tscene.add(ground);\n\n\tcamera = new THREE.PerspectiveCamera(50, container.value.offsetWidth / container.value.offsetHeight, 0.1, 1000);\n\tcamera.position.set(0, 10, 20);\n\n\tscene.add(new THREE.HemisphereLight(0x606060, 0x404040));\n\n\tconst light1 = new THREE.DirectionalLight(0xffffff, 2);\n\tlight1.position.set(1, 1, 1).normalize();\n\tscene.add(light1);\n\tconst light2 = new THREE.DirectionalLight(0xffffff, 1);\n\tlight2.position.set(-6, 10, -10).normalize();\n\tscene.add(light2);\n\tconst light3 = new THREE.DirectionalLight(0xffffff, 0.3);\n\tlight3.position.set(0, -5, 0).normalize();\n\tscene.add(light3);\n\n\tlet dirLight = new THREE.DirectionalLight(0xffffff, 6);\n\tdirLight.position.set(12, 23, 14);\n\tdirLight.castShadow = true;\n\tdirLight.shadow.mapSize.set(1024, 1024);\n\tdirLight.shadow.bias = -0.00005;\n\tdirLight.shadow.normalBias = 0.05;\n\tdirLight.shadow.camera.top = 20;\n\tdirLight.shadow.camera.bottom = -20;\n\tdirLight.shadow.camera.left = -20;\n\tdirLight.shadow.camera.right = 20;\n\tscene.add(dirLight);\n\n\t// const directionalLightCameraHelper = new THREE.CameraHelper(dirLight.shadow.camera);\n\t// scene.add(directionalLightCameraHelper);\n\n\t// marker = new THREE.Mesh(new THREE.CircleGeometry(0.25, 32).rotateX(-Math.PI / 2), new THREE.MeshBasicMaterial({ color: 0x808080 }));\n\tmarker = new THREE.Mesh(new THREE.SphereGeometry(0.25, 32, 16), new THREE.MeshBasicMaterial({ color: 0x808080 }));\n\tscene.add(marker);\n\n\traycaster = new THREE.Raycaster();\n\n\trenderer = new THREE.WebGLRenderer({ antialias: true });\n\trenderer.setPixelRatio(window.devicePixelRatio);\n\trenderer.setSize(window.innerWidth, window.innerHeight);\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\trenderer.toneMapping = THREE.ReinhardToneMapping;\n\trenderer.toneMappingExposure = 3;\n\trenderer.physicallyCorrectLights = true;\n\trenderer.shadowMap.enabled = true;\n\trenderer.shadowMap.type = THREE.PCFSoftShadowMap;\n\trenderer.xr.addEventListener(\"sessionstart\", () => (baseReferenceSpace = renderer.xr.getReferenceSpace()));\n\trenderer.xr.enabled = true;\n\tcontainer.value.appendChild(renderer.domElement);\n\tcontainer.value.appendChild(VRButton.createButton(renderer));\n\n\tcontrols = new OrbitControls(camera, renderer.domElement);\n\tcontrols.update();\n\n\twindow.addEventListener(\"resize\", onWindowResize);\n\n\tloader.load(\n\t\t\"static/models/building.glb\",\n\t\tfunction (gltf: any) {\n\t\t\tconsole.log(gltf);\n\t\t\tgltf.scene.traverse((child: any) => {\n\t\t\t\tif (child.isMesh) {\n\t\t\t\t\tchild.castShadow = true;\n\t\t\t\t\tchild.receiveShadow = true;\n\n\t\t\t\t\tif (child.name.indexOf(\"网格159\") > -1) {\n\t\t\t\t\t\tchild.castShadow = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgltf.scene.children.forEach((child: any) => {\n\t\t\t\tconst arr = [\"louti_1f\", \"Obj3d66-455969-2-272\", \"Obj3d66-455969-2-273\"];\n\t\t\t\tif (child.name.indexOf(\"diban\") > -1 || arr.indexOf(child.name) > -1) {\n\t\t\t\t\tmodels.push(child);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tgltf.scene.scale.set(1, 1, 1);\n\t\t\tscene.add(gltf.scene);\n\t\t}\n\t\t// function (xhr: any) {\n\t\t// \tconsole.log(xhr)\n\t\t// \tconsole.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\n\t\t// },\n\t\t// function (error: any) {\n\t\t// \tconsole.log(error);\n\t\t// }\n\t);\n\n\tfunction onSelectStart(this: any) {\n\t\tthis.userData.isSelecting = true;\n\t}\n\n\tfunction onSelectEnd(this: any) {\n\t\tthis.userData.isSelecting = false;\n\n\t\tif (INTERSECTION) {\n\t\t\tconst offsetPosition = { x: -INTERSECTION.x, y: -INTERSECTION.y, z: -INTERSECTION.z, w: 1 };\n\t\t\tconst offsetRotation = new THREE.Quaternion();\n\t\t\tconst transform = new XRRigidTransform(offsetPosition, offsetRotation);\n\t\t\tconst teleportSpaceOffset = baseReferenceSpace.getOffsetReferenceSpace(transform);\n\n\t\t\trenderer.xr.setReferenceSpace(teleportSpaceOffset);\n\t\t}\n\t}\n\tcontroller1 = renderer.xr.getController(0);\n\tcontroller1.addEventListener(\"selectstart\", onSelectStart);\n\tcontroller1.addEventListener(\"selectend\", onSelectEnd);\n\tcontroller1.addEventListener(\"connected\", function (this: any, event: any) {\n\t\tthis.add(buildController(event.data));\n\t});\n\tcontroller1.addEventListener(\"disconnected\", function (this: any) {\n\t\tthis.remove(this.children[0]);\n\t});\n\tscene.add(controller1);\n\n\tcontroller2 = renderer.xr.getController(1);\n\tcontroller2.addEventListener(\"selectstart\", onSelectStart);\n\tcontroller2.addEventListener(\"selectend\", onSelectEnd);\n\tcontroller2.addEventListener(\"connected\", function (this: any, event: any) {\n\t\tthis.add(buildController(event.data));\n\t});\n\tcontroller2.addEventListener(\"disconnected\", function (this: any) {\n\t\tthis.remove(this.children[0]);\n\t});\n\tscene.add(controller2);\n\n\tconst controllerModelFactory = new XRControllerModelFactory();\n\n\tcontrollerGrip1 = renderer.xr.getControllerGrip(0);\n\tcontrollerGrip1.add(controllerModelFactory.createControllerModel(controllerGrip1));\n\tscene.add(controllerGrip1);\n\n\tcontrollerGrip2 = renderer.xr.getControllerGrip(1);\n\tcontrollerGrip2.add(controllerModelFactory.createControllerModel(controllerGrip2));\n\tscene.add(controllerGrip2);\n}\n\nfunction buildController(data: any) {\n\tlet geometry, material;\n\n\tswitch (data.targetRayMode) {\n\t\tcase \"tracked-pointer\":\n\t\t\tgeometry = new THREE.BufferGeometry();\n\t\t\tgeometry.setAttribute(\"position\", new THREE.Float32BufferAttribute([0, 0, 0, 0, 0, -1], 3));\n\t\t\tgeometry.setAttribute(\"color\", new THREE.Float32BufferAttribute([0.5, 0.5, 0.5, 0, 0, 0], 3));\n\n\t\t\tmaterial = new THREE.LineBasicMaterial({ vertexColors: true, blending: THREE.AdditiveBlending });\n\n\t\t\treturn new THREE.Line(geometry, material);\n\n\t\tcase \"gaze\":\n\t\t\tgeometry = new THREE.RingGeometry(0.02, 0.04, 32).translate(0, 0, -1);\n\t\t\tmaterial = new THREE.MeshBasicMaterial({ opacity: 0.5, transparent: true });\n\t\t\treturn new THREE.Mesh(geometry, material);\n\t}\n}\n\nfunction animate() {\n\trenderer.setAnimationLoop(render);\n}\n\nfunction render() {\n\tcontrols.update();\n\n\tINTERSECTION = undefined;\n\n\tif (controller1.userData.isSelecting === true) {\n\t\ttempMatrix.identity().extractRotation(controller1.matrixWorld);\n\n\t\traycaster.ray.origin.setFromMatrixPosition(controller1.matrixWorld);\n\t\traycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n\n\t\tconst intersects = raycaster.intersectObjects([...models]);\n\n\t\tif (intersects.length > 0) {\n\t\t\tINTERSECTION = intersects[0].point;\n\t\t}\n\t} else if (controller2.userData.isSelecting === true) {\n\t\ttempMatrix.identity().extractRotation(controller2.matrixWorld);\n\n\t\traycaster.ray.origin.setFromMatrixPosition(controller2.matrixWorld);\n\t\traycaster.ray.direction.set(0, 0, -1).applyMatrix4(tempMatrix);\n\n\t\tconst intersects = raycaster.intersectObjects([...models]);\n\n\t\tif (intersects.length > 0) {\n\t\t\tINTERSECTION = intersects[0].point;\n\t\t}\n\t}\n\n\tif (INTERSECTION) marker.position.copy(INTERSECTION);\n\n\tmarker.visible = INTERSECTION !== undefined;\n\n\trenderer.render(scene, camera);\n}\n\nfunction onWindowResize() {\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\n\trenderer.setSize(container.value.offsetWidth, container.value.offsetHeight);\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"home-container\",\n    ref_key: \"container\",\n    ref: container\n  }, null, 512))\n}\n}\n\n})","import script from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=3491bd88&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Learning\\\\vr-vue3\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3491bd88\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  // {\n  //   path: '/about',\n  //   name: 'about',\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  // }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n  },\n  getters: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport \"@/styles/reset.scss\";\r\n\r\ncreateApp(App).use(store).use(router).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvr_vue3\"] = self[\"webpackChunkvr_vue3\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4738); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","_defineComponent","__name","setup","__props","container","ref","camera","scene","renderer","raycaster","controls","loader","GLTFLoader","marker","baseReferenceSpace","controller1","controller2","controllerGrip1","controllerGrip2","INTERSECTION","tempMatrix","THREE","models","init","background","skybox","setPath","load","encoding","texture","wrapS","wrapT","repeat","set","anisotropy","ground","map","rotation","x","Math","PI","receiveShadow","add","value","offsetWidth","offsetHeight","position","light1","normalize","light2","light3","dirLight","onSelectStart","this","userData","isSelecting","onSelectEnd","offsetPosition","y","z","w","offsetRotation","transform","XRRigidTransform","teleportSpaceOffset","getOffsetReferenceSpace","xr","setReferenceSpace","castShadow","shadow","mapSize","bias","normalBias","top","bottom","left","right","color","antialias","setPixelRatio","window","devicePixelRatio","setSize","innerWidth","innerHeight","outputEncoding","toneMapping","toneMappingExposure","physicallyCorrectLights","shadowMap","enabled","type","addEventListener","getReferenceSpace","appendChild","domElement","VRButton","OrbitControls","update","onWindowResize","gltf","console","log","traverse","child","isMesh","name","indexOf","children","forEach","arr","push","scale","getController","event","buildController","data","remove","controllerModelFactory","XRControllerModelFactory","getControllerGrip","createControllerModel","geometry","material","targetRayMode","setAttribute","vertexColors","blending","translate","opacity","transparent","animate","setAnimationLoop","undefined","identity","extractRotation","matrixWorld","ray","origin","setFromMatrixPosition","direction","applyMatrix4","intersects","intersectObjects","length","point","copy","visible","aspect","updateProjectionMatrix","onMounted","onBeforeUnmount","clear","dispose","forceContextLoss","content","gl","getContext","getExtension","loseContext","_ctx","_cache","_openBlock","_createElementBlock","class","ref_key","routes","path","component","HomeView","router","createRouter","history","createWebHistory","process","createStore","state","getters","mutations","actions","modules","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}